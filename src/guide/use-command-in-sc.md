# 在Scratch中调用指令

## 操作

在计算机上运行OpenXMW程序。


获取OpenXMW示例作品，在下载站下载`示例作品.sb3`，[点击此处下载](/download/%E7%A4%BA%E4%BE%8B%E4%BD%9C%E5%93%81.sb3)（你也可以在社区获取去点击[这里](https://world.xiaomawang.com/community/main/compose/DtEj666J)或[这里](https://world.xiaomawang.com/community/main/compose/48jj666J)以跳转）里的自定义积木。



使用积木「初始化」以初始化OpenXMW所用到的列表。

![](/2.png)

使用积木「增加参数」以将参数加入到本地列表中，每一个键对应一个值，具体参数内容由使用的插件指令决定，或者说，由插件作者决定。如果你想要清空本地列表中的参数，请使用积木「清空参数」。

![](/3.png)

设置好参数后，使用积木「封装参数」以将参数列表以字典格式临时保存在变量 tempParams 中。

![](/4.png)

使用积木「发送命令」，指定通道序号、指令名称。通道共有14个，序号分别为1到14，也就是说你可以同时进行14个指令的传输。一般的指令名称格式为“插件文件名.指令名”，如果插件中含有自定义类，使用“插件文件名.类名.指令名”，若不止一个自定义类，则使用“插件文件名.类名1.类名2...指令名”。插件作者应该会说明这个。

![](/5.png)

等待一小段时间（一般情况下真的很短）后，Python的响应会在本地列表“响应内容”中以字典格式出现，使用积木「解析响应」（需要在积木参数中填入需要解析的响应内容），即可将响应内容的键和值分别解析至本地列表“响应.键”和“响应.值”中，不过，在解析之前，建议先使用积木“清空响应”以清空上一次响应的解析结果。

![](/6.png)

接下来，你就可以将本地列表“响应.键”和“响应.值”中的响应解析结果用于作品之中了！

![](/7.png)

在实际使用中，具体参数键、值以及响应内容键、值的格式应由插件决定。

## 注意事项

若不清楚用途，请勿擅自修改OpenXMW示例作品中的任何变量、列表或自定义积木，尤其是OpenXMW的request、response云列表名称等，否则可能导致OpenXMW无法正常工作。

若插件使用时出现问题，请查看控制台是否有报错，若有，请先询问插件作者并提供报错内容，若无法解决，再询问OpenXMW作者（即[hjfunny](https://world.xiaomawang.com/w/person/project/all/1347431)和[Markchai](https://world.xiaomawang.com/w/person/project/all/693633)）。对于文档中已有解释的问题不予回复。